PERSO ì•±ì˜ "í˜ë¥´ì†Œë‚˜ ëŒ€í™” ì‹œìŠ¤í…œ"ì„ êµ¬í˜„í•œë‹¤.
í˜ë¥´ì†Œë‚˜ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ChatGPTì²˜ëŸ¼ ë‹¤ì–‘í•œ ëŒ€í™”ê°€ ê°€ëŠ¥í•´ì•¼ í•œë‹¤.
ì¶”ê°€ì ìœ¼ë¡œ, í˜ë¥´ì†Œë‚˜ì˜ ìŠ¤íƒ¯(ê³µê°, ìœ ë¨¸, ì‚¬êµì„±, ì°½ì˜ì„±, ì§€ì‹)ê³¼ ì„±ì¥, ê¸°ì–µì´ ë°˜ì˜ë˜ì–´ 
ëŒ€í™” í†¤, ë§íˆ¬, ìŠµê´€, ì´ëª¨ì§€ê°€ ë‹¬ë¼ì§€ë„ë¡ í•œë‹¤.

í™˜ê²½:
- Next.js + TypeScript + Tailwind
- Prisma + SQLite (ê°œë°œìš© DB)
- OpenAI API

êµ¬í˜„ ë²”ìœ„:

1) DB (Prisma)
- User, Persona, Post, PersonaMemory ëª¨ë¸ ì •ì˜
  model User {
    id        String   @id @default(cuid())
    username  String   @unique
    persona   Persona?
    posts     Post[]
  }

  model Persona {
    id          String   @id @default(cuid())
    name        String
    userId      String   @unique
    user        User     @relation(fields: [userId], references: [id])
    empathy     Int      @default(5)
    humor       Int      @default(5)
    sociability Int      @default(5)
    creativity  Int      @default(5)
    knowledge   Int      @default(5)
    memories    PersonaMemory[]
  }

  model Post {
    id        String   @id @default(cuid())
    userId    String
    content   String
    createdAt DateTime @default(now())
    sentiment Json?
  }

  model PersonaMemory {
    id        String   @id @default(cuid())
    personaId String
    content   String
    createdAt DateTime @default(now())
  }

2) utils/personaPrompt.ts
- buildPersonaPrompt(stats, memories, message)
- ê·œì¹™:
  * Empathy ë†’ìŒ â†’ ë”°ëœ»í•œ ì–´íˆ¬ + ì´ëª¨ì§€
  * Humor ë†’ìŒ â†’ ë†ë‹´/ë“œë¦½ ì„ê¸°
  * Sociability ë†’ìŒ â†’ ë°˜ë“œì‹œ ì§ˆë¬¸ í¬í•¨
  * Creativity ë†’ìŒ â†’ ë¹„ìœ /ì‹œì  í‘œí˜„
  * Knowledge ë†’ìŒ â†’ ë°°ê²½ì§€ì‹ í¬í•¨
- memoriesëŠ” ìµœê·¼ ëŒ€í™” ìš”ì•½ 3ê°œê¹Œì§€ë§Œ í”„ë¡¬í”„íŠ¸ì— ì‚½ì…
- ìµœì¢… systemPrompt + userPrompt ë¦¬í„´

3) utils/personaGrowth.ts
- computePersonaDeltas({ sentiment, tones, imageScores })
- updatePersonaStats(personaId, deltas) â†’ DB ì—…ë°ì´íŠ¸
- ê²Œì‹œë¬¼ ì—…ë¡œë“œ ì‹œ ìë™ ë°˜ì˜

4) API
- app/api/chat/route.ts
  * POST { userId, message }
  * DBì—ì„œ personaStats + recent memories ë¶ˆëŸ¬ì˜¤ê¸°
  * buildPersonaPrompt í˜¸ì¶œ â†’ OpenAI API í˜¸ì¶œ
  * ì‘ë‹µ ì €ì¥ (PersonaMemoryì— ìš”ì•½ ì €ì¥)
  * JSON ë°˜í™˜

- app/api/posts/analyze/route.ts
  * POST { userId, content }
  * /ai/analyze(mock) í˜¸ì¶œ: sentiment, tones, image_scores
  * computePersonaDeltas ì‹¤í–‰
  * DB ì—…ë°ì´íŠ¸
  * ê²°ê³¼ { sentiment, deltas } ë°˜í™˜

5) í”„ë¡ íŠ¸ì—”ë“œ
- PersonaChat.tsx
  * textarea ì…ë ¥ + Send ë²„íŠ¼
  * persona ì‘ë‹µ í‘œì‹œ
  * ì‹¤ì œë¡œëŠ” ChatGPTì²˜ëŸ¼ ëª¨ë“  ì§ˆë¬¸ì— ì‘ë‹µ, í•˜ì§€ë§Œ ë§íˆ¬/í†¤ì€ personaStatsì— ë”°ë¼ ë‹¤ë¦„

- PostCard.tsx
  * ê²Œì‹œë¬¼ í‘œì‹œ
  * ê°ì„± ë¶„ì„ ê²°ê³¼ í‘œì‹œ (progress bar + ğŸ˜Š ì´ëª¨ì§€)
  * ìŠ¤íƒ¯ ë°˜ì˜ í† ìŠ¤íŠ¸ í‘œì‹œ (2ì´ˆ í›„ ì‚¬ë¼ì§)

6) ê¸°ë³¸ ë™ì‘
- ìœ ì €ê°€ ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ë©´:
  1) í˜ë¥´ì†Œë‚˜ ìŠ¤íƒ¯ + ìµœê·¼ ê¸°ì–µì„ systemPromptì— ë°˜ì˜
  2) ChatGPTì²˜ëŸ¼ ììœ ë¡­ê²Œ ëŒ€í™” ìƒì„±
  3) ì‘ë‹µì´ personaì˜ ê°œì„±ê³¼ í†¤ì„ ë°˜ì˜
- ìœ ì €ê°€ ê²Œì‹œë¬¼ì„ ì˜¬ë¦¬ë©´:
  1) ê°ì„± ë¶„ì„ ì‹¤í–‰
  2) ìŠ¤íƒ¯ ìë™ ì—…ë°ì´íŠ¸
  3) UIì— í† ìŠ¤íŠ¸ë¡œ â€œEmpathy +1 â€¦â€ í‘œì‹œ

7) ì•ˆí‹°-ê²Œì´ë°
- ê°™ì€ ì‚¬ìš©ìê°€ 2ë¶„ ë‚´ ì—°ì† ê²Œì‹œë¬¼ â†’ ìµœì‹  1ê±´ë§Œ ë°˜ì˜
- í…ìŠ¤íŠ¸ ìœ ì‚¬ë„ â‰¥0.9 â†’ ë¬´íš¨ ì²˜ë¦¬

ì™„ë£Œ ì¡°ê±´:
- í˜ë¥´ì†Œë‚˜ëŠ” ChatGPTì²˜ëŸ¼ ì–´ë–¤ ì§ˆë¬¸ì—ë„ ëŒ€ë‹µ ê°€ëŠ¥í•˜ë‹¤.
- ëŒ€í™” ìŠ¤íƒ€ì¼ì€ personaì˜ ìŠ¤íƒ¯ì— ë”°ë¼ ì²´ê°ë˜ê²Œ ë‹¬ë¼ì§„ë‹¤.
- ê²Œì‹œë¬¼ ê°ì„±ë¶„ì„ì„ í†µí•´ ìŠ¤íƒ¯ì´ ìë™ ì„±ì¥í•˜ê³ , ëŒ€í™” í†¤ì´ ì ì  ë³€í•œë‹¤.
- ëŒ€í™” ìš”ì•½ì´ memoryì— ì €ì¥ë˜ì–´, ì´í›„ ëŒ€í™”ì— ë§¥ë½ì´ ë°˜ì˜ëœë‹¤.